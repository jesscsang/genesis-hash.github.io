<!DOCTYPE html>
<html lang="en">

<head>
    <title>Test</title>
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    <py-env>
        - paths:
            - ./GenesisHash.py
    </py-env>
</head>

<body>
    String: <br>
    <input type="text" id="input">
    <br>
    Hash: <br>
    <p id="result"></p>
    <br>
    <input type="button" id="btn" value = "Get Value"/>
    

    <py-script>
        from GenesisHash import genesisHash
        from js import document
        from pyodide.ffi import create_proxy

        def hashFn(e):
            input_str = str(document.getElementById("input"))
            pyscript.write("result", "")
            pyscript.write("result", genesisHash(input_str))

        
        genesisHash_proxy = create_proxy(hashFn)
        hashButton = document.getElementById("btn")
        hashButton.addEventListener("click", genesisHash_proxy)

    </py-script>
</body>

</html>
